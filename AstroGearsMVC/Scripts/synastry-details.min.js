var SynastryDetails;(function(n){function l(n){$.ajaxSetup({cache:!1});$.getJSON("/Synastry/GetSynastryChartListing",{chartId:n}).done(function(n){$.each(n,function(n,t){var i;i=t.ChartTypeName==="Natal"?t.SubjectName:t.SubjectName+" &lt;"+t.ChartTypeName+"&gt;";$("#secondEnteredChartSelection").append($('<option value="'+t.EnteredChartId+'" />').html(i))})}).fail(function(n,t,i){var r=t+", "+i;console.log("Chart Listing failure: "+r)});$.ajaxSetup({cache:!0})}function a(n){if(n==="-"){$("#secondEnteredChartSubjectLocation").html("");$("#secondEnteredChartOriginDateTime").html("");return}$.ajaxSetup({cache:!1});$.getJSON("/Synastry/GetSelectedEnteredChartData",{synastryChartId:n}).done(function(n){$("#secondEnteredChartSubjectLocation").html(n.SubjectLocation);$("#secondEnteredChartOriginDateTime").html(n.OriginDateTimeString)}).fail(function(n,t,i){var r=t+", "+i;console.log("Chart Listing failure: "+r)});$.ajaxSetup({cache:!0})}function y(n,r){t=!0;i=!0;e(n);f(n,1);o(r);f(r,2)}function e(n){t=!0;r=!1;$.ajaxSetup({cache:!1});$.getJSON("/EnteredCharts/GetDetailsChartListing",{id:n,draconic:$("#includeDraconicForFirst").is(":checked"),arabic:$("#includeArabicForFirst").is(":checked"),asteroids:$("#includeAsteroidsForFirst").is(":checked"),stars:$("#includeStarsForFirst").is(":checked"),midpoints:$("#includeMidpointsForFirst").is(":checked"),houseSystemId:$("#charthousesystems").val()}).done(function(n){$("#firstChartTableHeading").html($("#firstEnteredChartSubjectName").html());$.each(n,function(n,t){var i,r;i=t.Draconic===!0?$('<tr class="draconic"/>'):$("<tr/>");switch(t.CelestialObjectTypeName){case"Arabic Part":r=t.Draconic===!0?$('<td class="arabic-part draconic"/>'):$('<td class="arabic-part"/>');break;case"Major Planet/Luminary":r=t.Draconic===!0?$('<td class="planet-luminary draconic"/>'):$('<td class="planet-luminary"/>');break;case"Fixed Star":r=$('<td class="fixed-star"/>');break;case"Angle/House Cusp":r=t.Draconic===!0?$('<td class="house-cusp draconic"/>'):$('<td class="house-cusp"/>');break;case"Midpoint":r=t.Draconic===!0?$('<td class="midpoint draconic"/>'):$('<td class="midpoint"/>');break;default:r=t.Draconic===!0?$('<td class="draconic"/>'):$("<td/>")}i.append(r.html(t.CelestialObjectName));var f=$("<td/>"),e=!t.OrientationAbbreviation?"":" "+t.OrientationAbbreviation,u=t.Degrees+'° <span class="'+t.HtmlTextCssClass+'">'+t.SignAbbreviation+"<\/span> "+t.Minutes+"' "+t.Seconds+'"'+e;f.html(u);i.append(f);t.House!==0?i.append($("<td/>").html(t.House)):i.append($("<td/>").html("&nbsp;"));t.Draconic===!0?i.append($("<td/>").append($("<a onclick=\"SynastryDetails.GetSynastryAspectsForDraconicChart('"+t.CelestialObjectName+"', '"+u.replace(/\'/g,"\\&#39;").replace(/"/g,"&quot;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+'\', 2)" title="View Aspects"/>').append('<span class="fa fa-search"/>'))):t.CelestialObjectTypeName==="Arabic Part"?i.append($("<td/>").append($("<a onclick=\"SynastryDetails.GetSynastryAspectsForArabicChart('"+t.CelestialObjectName+"', '"+u.replace(/\'/g,"\\&#39;").replace(/"/g,"&quot;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+'\', 2)" title="View Aspects"/>').append('<span class="fa fa-search"/>'))):t.CelestialObjectTypeName==="Angle/House Cusp"?i.append($("<td/>").append($("<a onclick=\"SynastryDetails.GetSynastryAspectsForAngleChart('"+t.CelestialObjectName+"', '"+u.replace(/\'/g,"\\&#39;").replace(/"/g,"&quot;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+'\', 2)" title="View Aspects"/>').append('<span class="fa fa-search"/>'))):t.CelestialObjectTypeName==="Midpoint"?i.append($("<td/>").append($("<a onclick=\"SynastryDetails.GetSynastryAspectsForMidpointChart('"+t.CelestialObjectName+"', '"+u.replace(/\'/g,"\\&#39;").replace(/"/g,"&quot;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+'\', 2)" title="View Aspects"/>').append('<span class="fa fa-search"/>'))):i.append($("<td/>").append($('<a onclick="SynastryDetails.GetSynastryAspects('+t.ChartObjectId+', 2)" title="View Aspects"/>').append('<span class="fa fa-search"/>')));$("#firstChartBody").append(i)})}).fail(function(n,t,i){var r=t+", "+i;console.log("Chart Reload failure: "+r)});$.ajaxSetup({cache:!0})}function o(n){if(n==="-"){$("#secondChartTableHeading").empty();$("#secondEnteredChartHouseAngles").empty();$("#secondChartBody").empty();return}i=!0;r=!1;$.ajaxSetup({cache:!1});$.getJSON("/EnteredCharts/GetDetailsChartListing",{id:n,draconic:$("#includeDraconicForSecond").is(":checked"),arabic:$("#includeArabicForSecond").is(":checked"),asteroids:$("#includeAsteroidsForSecond").is(":checked"),stars:$("#includeStarsForSecond").is(":checked"),midpoints:$("#includeMidpointsForSecond").is(":checked"),houseSystemId:$("#charthousesystems").val()}).done(function(n){$("#secondChartTableHeading").html($("#secondEnteredChartSelection option:selected").html());$.each(n,function(n,t){var i,r;i=t.Draconic===!0?$('<tr class="draconic"/>'):$("<tr/>");switch(t.CelestialObjectTypeName){case"Arabic Part":r=t.Draconic===!0?$('<td class="arabic-part draconic"/>'):$('<td class="arabic-part"/>');break;case"Major Planet/Luminary":r=t.Draconic===!0?$('<td class="planet-luminary draconic"/>'):$('<td class="planet-luminary"/>');break;case"Fixed Star":r=$('<td class="fixed-star"/>');break;case"Angle/House Cusp":r=t.Draconic===!0?$('<td class="house-cusp draconic"/>'):$('<td class="house-cusp"/>');break;case"Midpoint":r=t.Draconic===!0?$('<td class="midpoint draconic"/>'):$('<td class="midpoint"/>');break;default:r=t.Draconic===!0?$('<td class="draconic"/>'):$("<td/>")}i.append(r.html(t.CelestialObjectName));var f=$("<td/>"),e=!t.OrientationAbbreviation?"":" "+t.OrientationAbbreviation,u=t.Degrees+'° <span class="'+t.HtmlTextCssClass+'">'+t.SignAbbreviation+"<\/span> "+t.Minutes+"' "+t.Seconds+'"'+e;f.html(u);i.append(f);t.House!==0?i.append($("<td/>").html(t.House)):i.append($("<td/>").html("&nbsp;"));t.Draconic===!0?i.append($("<td/>").append($("<a onclick=\"SynastryDetails.GetSynastryAspectsForDraconicChart('"+t.CelestialObjectName+"', '"+u.replace(/\'/g,"\\&#39;").replace(/"/g,"&quot;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+'\', 1)" title="View Aspects"/>').append('<span class="fa fa-search"/>'))):t.CelestialObjectTypeName==="Arabic Part"?i.append($("<td/>").append($("<a onclick=\"SynastryDetails.GetSynastryAspectsForArabicChart('"+t.CelestialObjectName+"', '"+u.replace(/\'/g,"\\&#39;").replace(/"/g,"&quot;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+'\', 1)" title="View Aspects"/>').append('<span class="fa fa-search"/>'))):t.CelestialObjectTypeName==="Angle/House Cusp"?i.append($("<td/>").append($("<a onclick=\"SynastryDetails.GetSynastryAspectsForAngleChart('"+t.CelestialObjectName+"', '"+u.replace(/\'/g,"\\&#39;").replace(/"/g,"&quot;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+'\', 1)" title="View Aspects"/>').append('<span class="fa fa-search"/>'))):t.CelestialObjectTypeName==="Midpoint"?i.append($("<td/>").append($("<a onclick=\"SynastryDetails.GetSynastryAspectsForMidpointChart('"+t.CelestialObjectName+"', '"+u.replace(/\'/g,"\\&#39;").replace(/"/g,"&quot;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+'\', 1)" title="View Aspects"/>').append('<span class="fa fa-search"/>'))):i.append($("<td/>").append($('<a onclick="SynastryDetails.GetSynastryAspects('+t.ChartObjectId+', 1)" title="View Aspects"/>').append('<span class="fa fa-search"/>')));$("#secondChartBody").append(i)})}).fail(function(n,t,i){var r=t+", "+i;console.log("Chart Reload failure: "+r)});$.ajaxSetup({cache:!0})}function f(n,t){var f,e;if(n==="-"){t===2&&($("#secondChartHouses").hide(),$("#secondChartDraconicHouses").hide());return}t===2&&$("#secondChartHouses").show();$.ajaxSetup({cache:!1});var r={1:"firstHouse",2:"secondHouse",3:"thirdHouse",4:"fourthHouse",5:"fifthHouse",6:"sixthHouse",7:"seventhHouse",8:"eighthHouse",9:"ninthHouse",10:"tenthHouse",11:"eleventhHouse",12:"twelfthHouse"},i={1:"ForFirstChart",2:"ForSecondChart"},u={0:"vertex",1:"ascendant",2:"midheaven",3:"antivertex",4:"descendant",5:"imumCoeli"};$.getJSON("/EnteredCharts/GetDetailsHouseListing",{chartId:n,houseSystemId:$("#charthousesystems").val()}).done(function(n){$.each(r,function(n,r){$("#"+r+i[t]).empty()});$.each(n,function(n,u){var f=u.Degrees+'° <span class="'+u.HtmlTextCssClass+'">'+u.SignAbbreviation+"<\/span> "+u.Minutes+"' "+u.Seconds+'"';$("#"+r[u.HouseId]+i[t]).html(f)})}).fail(function(n,t,i){var r=t+", "+i;console.log("Chart Reload failure: "+r)});$.getJSON("/EnteredCharts/GetDetailsAngleListing",{chartId:n}).done(function(n){$.each(u,function(n,r){$("#"+r+i[t]).empty()});$.each(n,function(n,r){var f=r.Degrees+'° <span class="'+r.HtmlTextCssClass+'">'+r.SignAbbreviation+"<\/span> "+r.Minutes+"' "+r.Seconds+'"';$("#"+u[r.AngleId]+i[t]).html(f)})}).fail(function(n,t,i){var r=t+", "+i;console.log("Chart Reload failure: "+r)});f=t===1?"ForFirst":"ForSecond";e=t===1?"#firstChart":"#secondChart";$("#includeDraconic"+f).is(":checked")?($(e+"DraconicHouses").show(),$.getJSON("/EnteredCharts/GetDetailsDraconicHouseListing",{chartId:n,houseSystemId:$("#charthousesystems").val()}).done(function(n){$.each(r,function(n,r){$("#"+r+i[t]+"Draconic").empty()});$.each(n,function(n,u){var f=u.Degrees+'° <span class="'+u.HtmlTextCssClass+'">'+u.SignAbbreviation+"<\/span> "+u.Minutes+"' "+u.Seconds+'"';$("#"+r[u.HouseId]+i[t]+"Draconic").html(f)})}).fail(function(n,t,i){var r=t+", "+i;console.log("Chart Reload failure: "+r)}),$.getJSON("/EnteredCharts/GetDetailsDraconicAngleListing",{chartId:n}).done(function(n){$.each(u,function(n,t){$("#"+t+"Draconic").empty()});$.each(n,function(n,r){var f=r.Degrees+'° <span class="'+r.HtmlTextCssClass+'">'+r.SignAbbreviation+"<\/span> "+r.Minutes+"' "+r.Seconds+'"';$("#"+u[r.AngleId]+i[t]+"Draconic").html(f)})}).fail(function(n,t,i){var r=t+", "+i;console.log("Chart Reload failure: "+r)})):$("#draconicHouses").hide();$.ajaxSetup({cache:!0})}function v(n,t,i,r,u,f,e,o){if(t){if(f)return n>u?[parseInt(n),null,parseInt(u),null]:[parseInt(u),null,parseInt(n),null];if(o)return[parseInt(n),null,null,parseInt(e)]}else if(r){if(f)return[null,parseInt(i),parseInt(u),null];if(o)return i>e?[null,parseInt(i),null,parseInt(e)]:[null,parseInt(e),null,parseInt(i)]}return null}function p(n,f){if($("#secondEnteredChartSelection").val()!=="-"){$("#synastryAspectListModal").modal("show");t=!1;i=!1;r=!0;$.ajaxSetup({cache:!1});$("#firstChartSynastrySubject").html(f===2?$("#firstEnteredChartSubjectName").html():$("#secondEnteredChartSelection option:selected").html());$("#secondChartSynastrySubject").html((f===1?$("#firstEnteredChartSubjectName").html():$("#secondEnteredChartSelection option:selected").html())+"'s:");$("#firstChartSynastryObject").empty();$("#synastryAspectlist").empty();var e=$.getJSON("/EnteredCharts/GetSelectedAspectChartObject",{id:n}).done(function(n){var t=!n.OrientationAbbreviation?"":" "+n.OrientationAbbreviation;$("#firstChartSynastryObject").html(n.CelestialObjectName+" ("+n.Degrees+'° <span class="'+n.HtmlTextCssClass+'">'+n.SignAbbreviation+"<\/span> "+n.Minutes+"' "+n.Seconds+'"'+t+")")}).fail(function(){console.log("Header Load Fail.");return}),o=$.getJSON("/Synastry/GetSynastryAspectChartObjects",{id:n,firstChartId:f===2?$("#firstEnteredChartId").val():$("#secondEnteredChartSelection").val(),secondChartId:f===2?$("#secondEnteredChartSelection").val():$("#firstEnteredChartId").val(),draconic:$("#includeDraconicFor"+(f===1?"First":"Second")).is(":checked"),arabic:$("#includeArabicFor"+(f===1?"First":"Second")).is(":checked"),asteroids:$("#includeAsteroidsFor"+(f===1?"First":"Second")).is(":checked"),stars:$("#includeStarsFor"+(f===1?"First":"Second")).is(":checked"),midpoints:$("#includeMidpointsFor"+(f===1?"First":"Second")).is(":checked"),houseSystemId:$("#charthousesystems").val()}).done(function(n){$.each(n,function(n,t){if(!t.aspectList||!t.aspectList.length)return!0;var i=$("<li/>").append($('<span class="'+t.HtmlTextCssClass+'">').text(t.AspectName)),r=$("<ul/>");$.each(t.aspectList,function(n,i){var e=u(i),o=t.AspectName+n;e.attr("id",o);var s=!i.OrientationAbbreviation?"":" "+i.OrientationAbbreviation,h=i.House!=0?" | House "+i.House:"",f=i.BaseObjectValidForInterpretation&&i.ThisObjectValidForInterpretation?v(i.BaseObjectCelestialObjectId,i.BaseObjectCelestialObjectId!==0?!0:!1,i.BaseObjectAngleId,IsNullOrUndefined(i.BaseObjectAngleId)?!1:!0,i.CelestialObjectId,i.CelestialObjectId!==0?!0:!1,i.AngleId,IsNullOrUndefined(i.AngleId)?!1:!0):null,c=i.BaseObjectValidForInterpretation&&i.ThisObjectValidForInterpretation?' <a href="#" onclick="SynastryDetails.GetInterpretation(\'#'+o+"', "+f[0]+", "+f[1]+", "+t.AspectId+", "+f[2]+", "+f[3]+');return false;"><span class="fa fa-search"><\/span><\/a>':"";e.html(i.CelestialObjectName+" ("+i.Degrees+'° <span class="'+i.HtmlTextCssClass+'">'+i.SignAbbreviation+"<\/span> "+i.Minutes+"' "+i.Seconds+'"'+s+h+")"+c);r.append(e)});i.append(r);$("#synastryAspectlist").append(i)})}).fail(function(){console.log("Aspect List Load failure..")});$.ajaxSetup({cache:!0})}}function w(n,t,i,r,u,f){if($(n+" > ul").length>0){$(n+" > ul").remove();$(n+" > a > .fa").removeClass("action-successful");return}$(n+" > a > .fa").addClass("action-successful");var e=$('<ul class="detail-interpretation"/>'),o=$.getJSON("/AspectInterpretations/GetSynastryChartDetailAspectInterpretationRequest",{celestialObjectId1:t,angleId1:i,aspectId:r,celestialObjectId2:u,angleId2:f}).done(function(n){n.length>0?$.each(n,function(n,t){e.append($("<li/>").html(t.Interpretation.replace(/\n/g,"<br>")+(IsNullOrUndefined(t.CitationUrl)?"":" ("+(t.CitationUrl.substring(0,4)==="http"?'<a href="'+t.CitationUrl+'" target="_blank">'+t.CitationUrl+"<\/a>":t.CitationUrl)+")")))}):e.append($("<li/>").html("(no interpretation available)"))}).fail(function(n,t,i){var r=t+", "+i;console.log("Interpretation Load failure: "+r)});$(n).append(e)}function b(n,f,e){if($("#secondEnteredChartSelection").val()!=="-"){$("#synastryAspectListModal").modal("show");t=!1;i=!1;r=!0;$.ajaxSetup({cache:!1});$("#firstChartSynastrySubject").html(e===2?$("#firstEnteredChartSubjectName").html():$("#secondEnteredChartSelection option:selected").html());$("#secondChartSynastrySubject").html((e===1?$("#firstEnteredChartSubjectName").html():$("#secondEnteredChartSelection option:selected").html())+"'s:");$("#firstChartSynastryObject").empty();$("#synastryAspectlist").empty();$("#firstChartSynastryObject").html(n+" ("+f+")");var o=$.getJSON("/Synastry/GetSynastryAspectChartObjectsForAngle",{firstChartId:e===2?$("#firstEnteredChartId").val():$("#secondEnteredChartSelection").val(),secondChartId:e===2?$("#secondEnteredChartSelection").val():$("#firstEnteredChartId").val(),draconic:$("#includeDraconicFor"+(e===1?"First":"Second")).is(":checked"),arabic:$("#includeArabicFor"+(e===1?"First":"Second")).is(":checked"),asteroids:$("#includeAsteroidsFor"+(e===1?"First":"Second")).is(":checked"),stars:$("#includeStarsFor"+(e===1?"First":"Second")).is(":checked"),midpoints:$("#includeMidpointsFor"+(e===1?"First":"Second")).is(":checked"),angleName:n,angleCoordinates:f,houseSystemId:$("#charthousesystems").val()}).done(function(n){$.each(n,function(n,t){if(!t.aspectList||!t.aspectList.length)return!0;var i=$("<li/>").append($('<span class="'+t.HtmlTextCssClass+'">').text(t.AspectName)),r=$("<ul/>");$.each(t.aspectList,function(n,i){var e=u(i),o=t.AspectName+n;e.attr("id",o);var s=!i.OrientationAbbreviation?"":" "+i.OrientationAbbreviation,h=i.House!=0?" | House "+i.House:"",f=i.BaseObjectValidForInterpretation&&i.ThisObjectValidForInterpretation?v(i.BaseObjectCelestialObjectId,i.BaseObjectCelestialObjectId!==0?!0:!1,i.BaseObjectAngleId,IsNullOrUndefined(i.BaseObjectAngleId)?!1:!0,i.CelestialObjectId,i.CelestialObjectId!==0?!0:!1,i.AngleId,IsNullOrUndefined(i.AngleId)?!1:!0):null,c=i.BaseObjectValidForInterpretation&&i.ThisObjectValidForInterpretation?' <a href="#" onclick="SynastryDetails.GetInterpretation(\'#'+o+"', "+f[0]+", "+f[1]+", "+t.AspectId+", "+f[2]+", "+f[3]+');return false;"><span class="fa fa-search"><\/span><\/a>':"";e.html(i.CelestialObjectName+" ("+i.Degrees+'° <span class="'+i.HtmlTextCssClass+'">'+i.SignAbbreviation+"<\/span> "+i.Minutes+"' "+i.Seconds+'"'+s+h+")"+c);r.append(e)});i.append(r);$("#synastryAspectlist").append(i)})}).fail(function(){console.log("Aspect List Load failure..")});$.ajaxSetup({cache:!0})}}function k(n,f,e){if($("#secondEnteredChartSelection").val()!=="-"){$("#synastryAspectListModal").modal("show");t=!1;i=!1;r=!0;$.ajaxSetup({cache:!1});$("#firstChartSynastrySubject").html(e===2?$("#firstEnteredChartSubjectName").html():$("#secondEnteredChartSelection option:selected").html());$("#secondChartSynastrySubject").html((e===1?$("#firstEnteredChartSubjectName").html():$("#secondEnteredChartSelection option:selected").html())+"'s:");$("#firstChartSynastryObject").empty();$("#synastryAspectlist").empty();$("#firstChartSynastryObject").html(n+" ("+f+")");var o=$.getJSON("/Synastry/GetSynastryAspectChartObjectsForArabicPart",{firstChartId:e===2?$("#firstEnteredChartId").val():$("#secondEnteredChartSelection").val(),secondChartId:e===2?$("#secondEnteredChartSelection").val():$("#firstEnteredChartId").val(),arabicPartName:n,arabicPartCoordinates:f,draconic:$("#includeDraconicFor"+(e===1?"First":"Second")).is(":checked"),arabic:$("#includeArabicFor"+(e===1?"First":"Second")).is(":checked"),asteroids:$("#includeAsteroidsFor"+(e===1?"First":"Second")).is(":checked"),stars:$("#includeStarsFor"+(e===1?"First":"Second")).is(":checked"),midpoints:$("#includeMidpointsFor"+(e===1?"First":"Second")).is(":checked"),houseSystemId:$("#charthousesystems").val()}).done(function(n){$.each(n,function(n,t){if(!t.aspectList||!t.aspectList.length)return!0;var i=$("<li/>").append($('<span class="'+t.HtmlTextCssClass+'">').text(t.AspectName)),r=$("<ul/>");$.each(t.aspectList,function(n,t){var i=u(t),f=!t.OrientationAbbreviation?"":" "+t.OrientationAbbreviation,e=t.House!=0?" | House "+t.House:"";i.html(t.CelestialObjectName+" ("+t.Degrees+'° <span class="'+t.HtmlTextCssClass+'">'+t.SignAbbreviation+"<\/span> "+t.Minutes+"' "+t.Seconds+'"'+f+e+")");r.append(i)});i.append(r);$("#synastryAspectlist").append(i)})}).fail(function(){console.log("Aspect List Load failure..")});$.ajaxSetup({cache:!0})}}function d(n,f,e){if($("#secondEnteredChartSelection").val()!=="-"){$("#synastryAspectListModal").modal("show");t=!1;i=!1;r=!0;$.ajaxSetup({cache:!1});$("#firstChartSynastrySubject").html(e===2?$("#firstEnteredChartSubjectName").html():$("#secondEnteredChartSelection option:selected").html());$("#secondChartSynastrySubject").html((e===1?$("#firstEnteredChartSubjectName").html():$("#secondEnteredChartSelection option:selected").html())+"'s:");$("#firstChartSynastryObject").empty();$("#synastryAspectlist").empty();$("#firstChartSynastryObject").html(n+" ("+f+")");var o=$.getJSON("/Synastry/GetSynastryAspectChartObjectsForDraconicObject",{firstChartId:e===2?$("#firstEnteredChartId").val():$("#secondEnteredChartSelection").val(),secondChartId:e===2?$("#secondEnteredChartSelection").val():$("#firstEnteredChartId").val(),draconicName:n,draconicCoordinates:f,draconic:$("#includeDraconicFor"+(e===1?"First":"Second")).is(":checked"),arabic:$("#includeArabicFor"+(e===1?"First":"Second")).is(":checked"),asteroids:$("#includeAsteroidsFor"+(e===1?"First":"Second")).is(":checked"),stars:$("#includeStarsFor"+(e===1?"First":"Second")).is(":checked"),midpoints:$("#includeMidpointsFor"+(e===1?"First":"Second")).is(":checked"),houseSystemId:$("#charthousesystems").val()}).done(function(n){$.each(n,function(n,t){if(!t.aspectList||!t.aspectList.length)return!0;var i=$("<li/>").append($('<span class="'+t.HtmlTextCssClass+'">').text(t.AspectName)),r=$("<ul/>");$.each(t.aspectList,function(n,t){var i=u(t),f=!t.OrientationAbbreviation?"":" "+t.OrientationAbbreviation,e=t.House!=0?" | House "+t.House:"";i.html(t.CelestialObjectName+" ("+t.Degrees+'° <span class="'+t.HtmlTextCssClass+'">'+t.SignAbbreviation+"<\/span> "+t.Minutes+"' "+t.Seconds+'"'+f+e+")");r.append(i)});i.append(r);$("#synastryAspectlist").append(i)})}).fail(function(){console.log("Aspect List Load failure..")});$.ajaxSetup({cache:!0})}}function g(n,f,e){if($("#secondEnteredChartSelection").val()!=="-"){$("#synastryAspectListModal").modal("show");t=!1;i=!1;r=!0;$.ajaxSetup({cache:!1});$("#firstChartSynastrySubject").html(e===2?$("#firstEnteredChartSubjectName").html():$("#secondEnteredChartSelection option:selected").html());$("#secondChartSynastrySubject").html((e===1?$("#firstEnteredChartSubjectName").html():$("#secondEnteredChartSelection option:selected").html())+"'s:");$("#firstChartSynastryObject").empty();$("#synastryAspectlist").empty();$("#firstChartSynastryObject").html(n+" ("+f+")");var o=$.getJSON("/Synastry/GetSynastryAspectChartObjectsForMidpoint",{firstChartId:e===2?$("#firstEnteredChartId").val():$("#secondEnteredChartSelection").val(),secondChartId:e===2?$("#secondEnteredChartSelection").val():$("#firstEnteredChartId").val(),midpointName:n,midpointCoordinates:f,draconic:$("#includeDraconicFor"+(e===1?"First":"Second")).is(":checked"),arabic:$("#includeArabicFor"+(e===1?"First":"Second")).is(":checked"),asteroids:$("#includeAsteroidsFor"+(e===1?"First":"Second")).is(":checked"),stars:$("#includeStarsFor"+(e===1?"First":"Second")).is(":checked"),midpoints:$("#includeMidpointsFor"+(e===1?"First":"Second")).is(":checked"),houseSystemId:$("#charthousesystems").val()}).done(function(n){$.each(n,function(n,t){if(!t.aspectList||!t.aspectList.length)return!0;var i=$("<li/>").append($('<span class="'+t.HtmlTextCssClass+'">').text(t.AspectName)),r=$("<ul/>");$.each(t.aspectList,function(n,t){var i=u(t),f=!t.OrientationAbbreviation?"":" "+t.OrientationAbbreviation,e=t.House!=0?" | House "+t.House:"";i.html(t.CelestialObjectName+" ("+t.Degrees+'° <span class="'+t.HtmlTextCssClass+'">'+t.SignAbbreviation+"<\/span> "+t.Minutes+"' "+t.Seconds+'"'+f+e+")");r.append(i)});i.append(r);$("#synastryAspectlist").append(i)})}).fail(function(){console.log("Aspect List Load failure..")});$.ajaxSetup({cache:!0})}}function u(n){switch(n.CelestialObjectTypeName){case"Arabic Part":return n.Draconic===!0?$('<li class="arabic-part draconic"/>'):$('<li class="arabic-part"/>');case"Major Planet/Luminary":return n.Draconic===!0?$('<li class="planet-luminary draconic"/>'):$('<li class="planet-luminary"/>');case"Fixed Star":return $('<li class="fixed-star"/>');case"Angle/House Cusp":return n.Draconic===!0?$('<li class="house-cusp draconic"/>'):$('<li class="house-cusp"/>');case"Midpoint":return n.Draconic===!0?$('<li class="midpoint draconic"/>'):$('<li class="midpoint"/>');default:return n.Draconic===!0?$('<li class="draconic"/>'):$("<li/>")}}var t=!1,i=!1,r=!1,s=$("#firstChartLoading").hide(),h=$("#secondChartLoading").hide(),c=$("#synastryAspectsLoading").hide();$(document).ajaxStart(function(){t===!0&&($("#firstChartBody").empty(),s.show());i===!0&&($("#secondChartBody").empty(),h.show());r===!0&&c.show()}).ajaxStop(function(){s.hide();h.hide();c.hide();t=!1;i=!1;r=!1});$("#secondEnteredChartSelection").change(function(){var n=$("#"+$(this).attr("id")+" option:selected").html();$("#secondEnteredChartSubjectLocationLabel").html(n);$("#secondEnteredChartOriginDateTimeLabel").html(n);$("#secondEnteredChartOptions").html(n);$("#secondEnteredChartHouseAngles").html(n);o($(this).val());f($(this).val(),2);a($(this).val())});n.GetAvailableChartsForSynastry=l;n.GetSelectedSynastryChartData=a;n.RefreshCharts=y;n.GetFirstChartListing=e;n.GetSecondChartListing=o;n.GetHouseListing=f;n.GetSynastryAspects=p;n.GetInterpretation=w;n.GetSynastryAspectsForAngleChart=b;n.GetSynastryAspectsForArabicChart=k;n.GetSynastryAspectsForDraconicChart=d;n.GetSynastryAspectsForMidpointChart=g;n.SetUpListItemElementForAspect=u;$(document).ready(function(){e($("#firstEnteredChartId").val());f($("#firstEnteredChartId").val(),1);l($("#firstEnteredChartId").val())})})(SynastryDetails||(SynastryDetails={}));
//# sourceMappingURL=synastry-details.min.js.map
